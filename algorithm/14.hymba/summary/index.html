<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hymba ì•„í‚¤í…ì²˜: ì‹œê°ì  ì‹¬ì¸µ ë¶„ì„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 50vh; max-height: 500px; }
        .gradient-text { background: linear-gradient(to right, #0077B6, #00B4D8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .section-card { background-color: white; border-radius: 0.75rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); padding: 2.5rem; margin-bottom: 3rem; border: 1px solid #e5e7eb; }
        .flow-arrow { font-size: 2rem; color: #90E0EF; line-height: 1; }
        .flow-box { border: 2px solid #CAF0F8; background-color: #f0f9ff; padding: 0.75rem 1.5rem; border-radius: 0.5rem; text-align: center; font-weight: 500; color: #0369a1; }
        .nav-link { @apply px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-blue-100 hover:text-blue-800 transition-colors; }
        .nav-link.active { @apply bg-blue-600 text-white hover:bg-blue-700; }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white/90 backdrop-blur-sm sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="./index.html" class="text-xl font-bold gradient-text">Hymba Research</a>
            <div id="nav-links" class="hidden md:flex items-center space-x-2">
                <a href="./index.html" class="nav-link">| ê°œìš”</a>
                <a href="./swa_kv_cache.html" class="nav-link">| SWA & KV Cache</a>
                <a href="./kv_cache.html" class="nav-link">| KV Cache</a>
                <a href="./meta_token.html" class="nav-link">| ë©”íƒ€ í† í°</a>
                <a href="./train_recipe.html" class="nav-link">| í•™ìŠµ ë ˆì‹œí”¼</a>
                <a href="./design_roadmap.html" class="nav-link">| ì„¤ê³„ ë¡œë“œë§µ</a>
                <a href="./dpo_evolution.html" class="nav-link">| DPOì™€ ê·¸ ë°œì „ |</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 py-12 md:py-20">
        <section class="text-center mb-20">
            <h1 class="text-4xl md:text-6xl font-bold gradient-text mb-4">Hymba ì•„í‚¤í…ì²˜</h1>
            <p class="text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto">ê³ ì„±ëŠ¥ ë¦¬ì½œê³¼ ì´ˆíš¨ìœ¨ ìš”ì•½ì˜ ì™„ë²½í•œ ìœµí•©: ì°¨ì„¸ëŒ€ ì†Œí˜• ì–¸ì–´ ëª¨ë¸ì˜ ì²­ì‚¬ì§„</p>
        </section>

        <section class="section-card">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#0077B6]">í˜„ëŒ€ LLMì˜ ë”œë ˆë§ˆ: ì„±ëŠ¥ vs. íš¨ìœ¨</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10">
                ê¸°ì¡´ ì–´í…ì…˜ ë©”ì»¤ë‹ˆì¦˜ì€ ëª¨ë“  í† í° ìŒì„ ë¹„êµí•˜ì—¬ ë†’ì€ ì„±ëŠ¥ì„ ë‹¬ì„±í•˜ì§€ë§Œ, ì‹œí€€ìŠ¤ ê¸¸ì´ê°€ ê¸¸ì–´ì§ˆìˆ˜ë¡ ê³„ì‚° ë¹„ìš©ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€($O(N^2)$)í•©ë‹ˆë‹¤. ë°˜ë©´, Mambaì™€ ê°™ì€ SSMì€ ì„ í˜•ì ($O(N)$)ìœ¼ë¡œ ì¦ê°€í•˜ì—¬ íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì•„ë˜ ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì—¬ ê·¸ ì°¨ì´ë¥¼ ì§ì ‘ í™•ì¸í•´ë³´ì„¸ìš”.
            </p>
            <div class="chart-container">
                <canvas id="complexityChart"></canvas>
            </div>
            <div class="mt-8 max-w-xl mx-auto">
                <label for="sequenceLength" class="block text-center font-medium text-gray-700">ì‹œí€€ìŠ¤ ê¸¸ì´ (N): <span id="sequenceLengthValue" class="font-bold text-[#5D7D9A]">1024</span></label>
                <input id="sequenceLength" type="range" min="64" max="4096" step="64" value="1024" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>
            <div id="complexity-text" class="mt-4 text-center text-gray-700 bg-gray-50 p-4 rounded-lg max-w-xl mx-auto">
                ê²°ê³¼ë¥¼ ì—¬ê¸°ì— í‘œì‹œí•©ë‹ˆë‹¤.
            </div>
        </section>

        <section class="section-card">
            <h2 class="text-3xl font-bold text-center mb-10 text-[#0077B6]">Hymba íŒ¨ëŸ¬ë‹¤ì„: ë³‘ë ¬ í•˜ì´ë¸Œë¦¬ë“œ í—¤ë“œ</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-12">
                Hymbaì˜ í•µì‹¬ í˜ì‹ ì€ ì–´í…ì…˜ê³¼ SSMì„ ìˆœì°¨ì ìœ¼ë¡œ ìŒ“ëŠ” ëŒ€ì‹ , ë™ì¼í•œ ë ˆì´ì–´ ë‚´ì—ì„œ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ëŠ” 'í•˜ì´ë¸Œë¦¬ë“œ í—¤ë“œ'ì— ìˆìŠµë‹ˆë‹¤. ë™ì¼í•œ ì…ë ¥ì´ ë‘ ë©”ì»¤ë‹ˆì¦˜ì— ë™ì‹œì— ë…¸ì¶œë˜ì–´, ëª¨ë¸ì´ 'ì •ë°€ ê²€ìƒ‰(ì–´í…ì…˜)'ê³¼ 'ë§¥ë½ ìš”ì•½(SSM)'ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ìµœì ìœ¼ë¡œ ê²°í•©í•˜ëŠ” ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤.
            </p>
            <div class="flex flex-col items-center space-y-4">
                <div class="flow-box">ì…ë ¥ (x)</div>
                <div class="flow-arrow">â†“</div>
                <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="flex flex-col items-center space-y-4 p-4 bg-gray-50 rounded-lg">
                        <div class="flow-box w-full">ğŸ” ì–´í…ì…˜ í—¤ë“œ ("Fact-Checker")</div>
                        <p class="text-sm text-gray-500 text-center">íŠ¹ì • ì •ë³´ì— ëŒ€í•œ ê³ í•´ìƒë„ ë¦¬ì½œ. "ë°”ë‹¤ì—ì„œ ë°”ëŠ˜ ì°¾ê¸°"ì™€ ê°™ì€ ì •ë°€ ê²€ìƒ‰ ì‘ì—… ìˆ˜í–‰.</p>
                    </div>
                    <div class="flex flex-col items-center space-y-4 p-4 bg-gray-50 rounded-lg">
                        <div class="flow-box w-full">ğŸ§  SSM í—¤ë“œ ("Summarizer")</div>
                        <p class="text-sm text-gray-500 text-center">ì „ì²´ ì‹œí€€ìŠ¤ì— ëŒ€í•œ íš¨ìœ¨ì ì¸ ì»¨í…ìŠ¤íŠ¸ ìš”ì•½. ê¸€ì˜ ì „ë°˜ì ì¸ íë¦„ê³¼ ì£¼ì œ íŒŒì•….</p>
                    </div>
                </div>
                <div class="flow-arrow">â†“</div>
                <div class="flow-box">ê²°í•© ë° í”„ë¡œì ì…˜</div>
                <div class="flow-arrow">â†“</div>
                <div class="flow-box">ì¶œë ¥</div>
            </div>
        </section>

        <section class="section-card">
            <h2 class="text-3xl font-bold text-center mb-10 text-[#0077B6]">ì„±ëŠ¥ í˜ëª…: ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ìœ¨ì„±</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-12">
                SSMì˜ ì„ í˜•ì  íš¨ìœ¨ì„±, ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ì–´í…ì…˜, KV ìºì‹œ ê³µìœ  ë“± ë‹¤ì–‘í•œ ìµœì í™” ê¸°ë²•ì„ í†µí•´ HymbaëŠ” ê¸°ì¡´ ëª¨ë¸ ëŒ€ë¹„ ì••ë„ì ì¸ íš¨ìœ¨ì„± ì´ì ì„ ë‹¬ì„±í•©ë‹ˆë‹¤. ì´ëŠ” ë” ê¸´ ë¬¸ë§¥ì„ ë” ì ì€ ìì›ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="text-center">
                    <p class="text-6xl md:text-7xl font-bold text-[#0077B6]">11.67x</p>
                    <p class="text-xl font-medium text-gray-700 mt-2">KV ìºì‹œ í¬ê¸° ê°ì†Œ</p>
                    <p class="text-gray-500">ìœ ì‚¬ í¬ê¸° ëª¨ë¸ ëŒ€ë¹„</p>
                    <hr class="my-8">
                    <p class="text-6xl md:text-7xl font-bold text-[#00B4D8]">3.49x</p>
                    <p class="text-xl font-medium text-gray-700 mt-2">ì²˜ë¦¬ëŸ‰ í–¥ìƒ</p>
                    <p class="text-gray-500">ê¸´ ì‹œí€€ìŠ¤ ì¶”ë¡  ì‹œ</p>
                </div>
                <div class="chart-container h-[50vh] max-h-[500px]">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </section>

        <!-- ADDED QUIZ BUTTON SECTION -->
        <section class="text-center mt-12">
            <a href="https://g.co/gemini/share/2176a121d27d" 
               target="_blank" rel="noopener noreferrer"
               class="inline-block bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold text-lg px-8 py-4 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                í€´ì¦ˆ í’€ëŸ¬ê°€ê¸°!
            </a>
        </section>
        
    </main>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // Navigation active state
    const navLinks = document.querySelectorAll('#nav-links .nav-link');
    const currentPage = window.location.pathname.split('/').pop() || 'index.html';
    navLinks.forEach(link => {
        if (link.getAttribute('href').includes(currentPage)) {
            link.classList.add('active');
        }
    });

    const tooltipTitleCallback = (tooltipItems) => {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        return Array.isArray(label) ? label.join(' ') : label;
    };

    // Interactive Complexity Chart
    const complexityCtx = document.getElementById('complexityChart').getContext('2d');
    const sequenceLengthSlider = document.getElementById('sequenceLength');
    const sequenceLengthValue = document.getElementById('sequenceLengthValue');
    const complexityText = document.getElementById('complexity-text');

    let complexityChart = new Chart(complexityCtx, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'ì–´í…ì…˜ (O(NÂ²))',
                data: [],
                borderColor: '#ef4444',
                backgroundColor: '#ef444420',
                tension: 0.1,
                fill: true,
            }, {
                label: 'SSM/Hymba (O(N))',
                data: [],
                borderColor: '#3b82f6',
                backgroundColor: '#3b82f620',
                tension: 0.1,
                fill: true,
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: { display: true, text: 'ìƒëŒ€ì  ê³„ì‚° ë¹„ìš©' }
                },
                x: {
                    title: { display: true, text: 'ì‹œí€€ìŠ¤ ê¸¸ì´ (N)' }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback,
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.y !== null) {
                                label += context.parsed.y.toLocaleString();
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });

    function updateComplexityChart() {
        const n = parseInt(sequenceLengthSlider.value);
        sequenceLengthValue.textContent = n;

        const labels = [];
        const attentionData = [];
        const ssmData = [];
        
        const steps = 10;
        for (let i = 0; i <= steps; i++) {
            const current_n = Math.floor(n / steps * i);
            if(current_n < 64) {
                if (i === 0) labels.push(0); // Ensure origin is plotted
                continue;
            };
            labels.push(current_n);
            attentionData.push(Math.pow(current_n / 64, 2)); 
            ssmData.push(current_n / 64 * 10);
        }

        complexityChart.data.labels = labels;
        complexityChart.data.datasets[0].data = attentionData;
        complexityChart.data.datasets[1].data = ssmData;
        complexityChart.update();

        const lastAttentionCost = attentionData[attentionData.length - 1] || 0;
        const lastSsmCost = ssmData[ssmData.length - 1] || 0;
        const ratio = lastSsmCost > 0 ? (lastAttentionCost / lastSsmCost) : Infinity;

        complexityText.innerHTML = `ì‹œí€€ìŠ¤ ê¸¸ì´ <strong>${n}</strong>ì—ì„œ, ì–´í…ì…˜ì˜ ìƒëŒ€ì  ê³„ì‚° ë¹„ìš©ì€ <strong>${Math.round(lastAttentionCost).toLocaleString()}</strong>ì´ë©°, SSMì˜ ë¹„ìš© <strong>${Math.round(lastSsmCost).toLocaleString()}</strong>ë³´ë‹¤ ì•½ <strong class="text-red-500">${ratio.toFixed(1)}ë°°</strong> ë” ë†’ìŠµë‹ˆë‹¤.`;
    }

    sequenceLengthSlider.addEventListener('input', updateComplexityChart);
    updateComplexityChart();

    // Performance Chart
    const performanceCtx = document.getElementById('performanceChart').getContext('2d');
    new Chart(performanceCtx, {
        type: 'bar',
        data: {
            labels: [['KV ìºì‹œ í¬ê¸°', '(11.67x ê°ì†Œ)'], ['ì²˜ë¦¬ëŸ‰', '(3.49x í–¥ìƒ)']],
            datasets: [{
                label: 'ê¸°ì¡´ íŠ¸ëœìŠ¤í¬ë¨¸',
                data: [11.67, 1],
                backgroundColor: '#CAF0F8',
                borderColor: '#90E0EF',
                borderWidth: 1
            }, {
                label: 'Hymba',
                data: [1, 3.49],
                backgroundColor: '#00B4D8',
                borderColor: '#0077B6',
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y', responsive: true, maintainAspectRatio: false,
            scales: { x: { beginAtZero: true, title: { display: true, text: 'ìƒëŒ€ì  ì„±ëŠ¥ (ë°°ìˆ˜)' } } },
            plugins: { 
                legend: { position: 'bottom' }, 
                tooltip: { 
                    callbacks: { 
                        title: tooltipTitleCallback 
                    } 
                } 
            }
        }
    });
});
</script>
</body>
</html>
